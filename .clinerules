## ファイル修正・作成のルール

ファイルを修正または新規作成する際は、以下のルールに従ってください：
1. 修正/作成の前にその内容を端的に説明してください
2. 修正後はどのような変更を行ったかを簡潔に要約してください

## 作業開始準備

`git status` で現在の git のコンテキストを確認します。
もし指示された内容と無関係な変更が多い場合、現在の変更からユーザーに別のタスクとして開始するように提案してください。

原則として依存関係のバージョン指定は最新のものを優先してください。

無視するように言われた場合は、そのまま続行します。

## コーディングプラクティス・開発プロセスのルール
- いついかなる時も以下の原則に必ず従って開発を進めること

### エヴァンスのDDD
- ユビキタス言語：共通言語の確立
- バウンデッドコンテキスト：境界の明確化
- エンティティ/値オブジェクト：識別性vs属性性
- 集約：整合性単位の設定
- その他、エヴァンスによるDDDのプラクティスに従う

### ベックのTDD
- Red-Green-Refactor：失敗→成功→改善
- 常に実装前にテストを作成：設計の指針
- 小さな検証サイクル：即時フィードバック
- 回帰防止：変更の安全性確保
- ベックによるTDDのプラクティスに従う

### ファウラーの思想
- リファクタリング：動作維持での構造改善
- コードスメル：問題兆候の検知
- CI/CD：継続的な統合と配信
- 進化的アーキテクチャ：変化への適応
- その他、ファウラーによるプラクティスに従う

### 関数型プログラミング
- 純粋関数：予測可能な結果
- 不変性：副作用の排除
- 高階関数：関数を値として扱う
- 宣言的プログラミング：意図の明確化
- 型安全性の確保
- その他、関数型プログラミングのプラクティスに従う

### しかくまるプロジェクト特有のルール
- LLM APIの利用は必ず抽象化レイヤーを通して行う
- 資格情報は常に暗号化して扱う
- 検索結果のキャッシュ機構を実装する
- Ankiフォーマットの厳密な検証を行う
- ユーザー入力の検証は必ず行う
- エラーハンドリングは詳細に実装する

## 技術情報
技術スタック、コードパターン、プロジェクト構造などの詳細技術情報は、以下のファイルを参照してください：

[しかくまるプロジェクト技術情報](./tech-stack.md)
